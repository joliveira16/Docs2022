<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Webscraping HTML to CSV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.0/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="/Teaching/content/navbar-fixed-left.css" />
    <link type="text/css" rel="stylesheet" href="/Teaching/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/Teaching/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/Teaching/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-left" id="fsdocs-nav">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarsExampleDefault">
            <a href="/Teaching/"><img id="fsdocs-logo" src="/Teaching/img/logo.png" /></a>
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/nhirschey/Teaching/blob/main/LICENSE.md">License</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/nhirschey/Teaching">Source Repository</a></li>
                <li class="nav-header">
  Getting Started
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/install.html">
    Install Software
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/learn-fsharp.html">
    Learn F#
  </a>
</li>             
<li class="nav-header">
  Lectures
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/fundamentals.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/portfolio-statistics.html">
    Basic Portfolio Statistics
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/VolatilityTiming.html">
    Volatility Timing
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/portfolio-returns.html">
    Portfolio Returns
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/PortfolioFormation-SimpleExample.html">
    Building a strategy
  </a>
</li>             
<li class="nav-header">
  Assignments
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/football-1-download-data.html">
    Webscraping HTML to CSV
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/football-tuples-and-records.html">
    Tuples and Records (with solutions)
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/football-collection-functions.html">
    Collection functions (with solutions)
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/football-plotting.html">
    Plotting (with solutions)
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/select-project-signal.html">
    Select Project Signals
  </a>
</li>             
<li class="nav-header">
  Practice Quizzes
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/fundamentals-PracticeQuiz.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/volatilityTiming-PracticeQuiz.html">
    Volatility Timing Part 1
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/volatilityTiming-PracticeQuiz-2.html">
    Volatility Timing Part 2
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/Option-Match-Map-practiceQuiz.html">
    Option Match Map
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/discriminatedUnion-practiceQuiz.html">
    Dicriminated Union
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/portfolios-PracticeQuiz.html">
    Portfolios
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/quizzes/factors-practiceQuiz.html">
    Factors
  </a>
</li>             
<li class="nav-header">
  Other
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/Common.html">
    Common
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/Momentum-Class.html">
    Price momentum

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/Portfolio.html">
    Portfolio
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Teaching/YahooFinance.html">
    YahooFinance
  </a>
</li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="/Teaching/">Teaching</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            
<p><a href="https://mybinder.org/v2/gh/nhirschey/teaching/gh-pages?filepath=football-1-download-data.ipynb"><img src="img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="/Teaching//football-1-download-data.fsx"><img src="img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="/Teaching//football-1-download-data.ipynb"><img src="img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="Webscraping-HTML-to-CSV" class="anchor" href="#Webscraping-HTML-to-CSV">Webscraping HTML to CSV</a></h1>
<blockquote>
<p>Developed with <a href="https://github.com/DavideGCosta">Davide Costa</a></p>
</blockquote>
<p>For the <strong>Football Players' Exercises</strong> we are trying to scrape data from <a href="https://www.sports-reference.com/">Sports Reference's</a> <a href="https://fbref.com/en/">Football Reference</a> website. The particular data that we want to scrape is player data from the <a href="https://fbref.com/en/comps/Big5/stats/players/Big-5-European-Leagues-Stats">Big 5 European Leauges table</a>. This data consists on the stats of the players that played in the big 5 football european leagues in the most recent season. Since we need to scrape the data from a webpage and store it in a csv file we will need to use 2 type providers from <a href="https://fsharp.github.io/FSharp.Data/">FSharp.Data</a>:</p>
<ul>
<li>We'll use the <a href="https://fsprojects.github.io/FSharp.Data/library/HtmlProvider.html">HTML Type Provider</a> to scrape the html from the webpage and access the players' table.</li>
<li>We'll use the <a href="https://fsprojects.github.io/FSharp.Data/library/CsvProvider.html">CSV Type Provider</a> to save the data to a csv file.</li>
</ul>
<p>Both type providers are located in <code>FSharp.Data</code> assembly. To use it we need to load and open <code>FSharp.Data</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: FSharp.Data&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Data</span>
</code></pre>
<h2><a name="Get-the-players-table-using-HTML-type-provider" class="anchor" href="#Get-the-players-table-using-HTML-type-provider">Get the players' table using HTML type provider.</a></h2>
<p>We need to define the type of data that we're going to access.
We do this by providing a sample of the data.
The type provider uses the sample to generate code to read data with that format.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="rt">Big5EuropeanLeagues</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="rt">HtmlProvider</span><span class="pn">&lt;</span><span class="s">&quot;https://fbref.com/en/comps/Big5/2021-2022/stats/players/2021-2022-Big-5-European-Leagues-Stats&quot;</span><span class="pn">&gt;</span>
</code></pre>
<p>The type <code>Big5EuropeanLeagues</code> contains information about the structure of the web page. It knows what the html is, it knows what the html tables are, etc.</p>
<p>Now that we have the <code>Big5EuropeanLeagues</code> HTML type defined we can use <code>GetSample()</code> to load the sample webpage
that we used to define the type.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">big5</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="rt">Big5EuropeanLeagues</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="id">GetSample</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>Now, we have the HTML of the webpage stored in the variable <code>big5</code>. Let's observe the first 200 characters of the HTML.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="id">big5</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="prop">Html</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="id">ToString</span><span class="pn">(</span><span class="pn">)</span><span class="pn">[</span><span class="o">..</span><span class="n">200</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"&lt;!DOCTYPE html&gt;
&lt;html data-version="klecko-" data-root="/home/fb/deploy/www/base" itemscope="" itemtype="https://schema.org/WebSite" lang="en" class="no-js"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;&lt;me"</code></pre></td></tr></table>
<p>From the tables available in the webpage, let's assign the player stats table to a variable called <code>footballers</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">footballers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 14)" onmouseover="showTip(event, 'fs5', 14)" class="id">big5</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 15)" onmouseover="showTip(event, 'fs9', 15)" class="id">Tables</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="id">``Player Standard Stats 2021-2022 Big 5 European Leagues``</span>
</code></pre>
<p>Now let's observe the first 3 table rows. The <code>Rows</code> property gives us an array of rows.
We can index into the array using <code>[..2]</code> to limit it to the first 3 rows.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">footballers</span><span class="pn">.</span><span class="id">Rows</span><span class="pn">[</span><span class="o">..</span><span class="n">2</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>[|("1", "Max Aarons", "eng ENG", "DF", "Norwich City", "engPremier League",
   "22-055", "2000", "25", "25", "2,211", "24.6", "0", "1", "0", "0", "0", "5",
   "0", "0.00", "0.04", "0.04", "0.00", "0.04", "0.6", "0.6", "0.9", "1.5",
   "0.03", "0.04", "0.06", "0.03", "0.06", "Matches");
  ("2", "Yunis Abdelhamid", "ma MAR", "DF", "Reims", "frLigue 1", "34-153",
   "1987", "23", "23", "1,993", "22.1", "1", "0", "1", "0", "0", "4", "1",
   "0.05", "0.00", "0.05", "0.05", "0.05", "1.0", "1.0", "0.2", "1.2", "0.05",
   "0.01", "0.05", "0.05", "0.05", "Matches");
  ("3", "Salis Abdul Samed", "gh GHA", "MF", "Clermont Foot", "frLigue 1",
   "21-339", "2000", "24", "23", "1,990", "22.1", "0", "0", "0", "0", "0", "8",
   "1", "0.00", "0.00", "0.00", "0.00", "0.00", "0.6", "0.6", "0.8", "1.4",
   "0.03", "0.04", "0.06", "0.03", "0.06", "Matches")|]</code></pre></td></tr></table>
<p>Let's look at the header fields in the table using the property <code>Headers</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">footballers</span><span class="pn">.</span><span class="id">Headers</span>
</code></pre>
<table class="pre"><tr><td><pre><code>Some
  [|"Rk"; "Player"; "Nation"; "Pos"; "Squad"; "Comp"; "Age"; "Born";
    "Playing Time - MP"; "Playing Time - Starts"; "Playing Time - Min";
    "Playing Time - 90s"; "Performance - Gls"; "Performance - Ast";
    "Performance - G-PK"; "Performance - PK"; "Performance - PKatt";
    "Performance - CrdY"; "Performance - CrdR"; "Per 90 Minutes - Gls";
    "Per 90 Minutes - Ast"; "Per 90 Minutes - G+A"; "Per 90 Minutes - G-PK";
    "Per 90 Minutes - G+A-PK"; "Expected - xG"; "Expected - npxG";
    "Expected - xA"; "Expected - npxG+xA"; "Per 90 Minutes - xG";
    "Per 90 Minutes - xA"; "Per 90 Minutes - xG+xA"; "Per 90 Minutes - npxG";
    "Per 90 Minutes - npxG+xA"; "Matches"|]</code></pre></td></tr></table>
<p>Let´s look at the first 5 rows of fields <code>Player</code> and <code>Age</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[</span> <span class="k">for</span> <span class="id">row</span> <span class="k">in</span> <span class="id">footballers</span><span class="pn">.</span><span class="id">Rows</span><span class="pn">[</span><span class="o">..</span><span class="n">4</span><span class="pn">]</span> <span class="k">do</span> <span class="id">row</span><span class="pn">.</span><span class="id">Player</span><span class="pn">,</span> <span class="id">row</span><span class="pn">.</span><span class="id">Age</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>[("Max Aarons", "22-055"); ("Yunis Abdelhamid", "34-153");
 ("Salis Abdul Samed", "21-339"); ("Laurent Abergel", "29-027");
 ("Charles Abi", "21-322")]</code></pre></td></tr></table>
<h2><a name="Clean-the-data" class="anchor" href="#Clean-the-data">Clean the data</a></h2>
<p>The table data is not exactly what we need. To work with it, we need to clean it up.</p>
<h3><a name="Repeated-headers" class="anchor" href="#Repeated-headers">Repeated headers</a></h3>
<p>The table header line repeats after every 25 players.
We can see this if we look at the 26th row of the table.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">footballers</span><span class="pn">.</span><span class="id">Rows</span><span class="pn">[</span><span class="n">25</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>("Rk", "Player", "Nation", "Pos", "Squad", "Comp", "Age", "Born", "MP", "Starts",
 "Min", "90s", "Gls", "Ast", "G-PK", "PK", "PKatt", "CrdY", "CrdR", "Gls", "Ast",
 "G+A", "G-PK", "G+A-PK", "xG", "npxG", "xA", "npxG+xA", "xG", "xA", "xG+xA",
 "npxG", "npxG+xA", "Matches")</code></pre></td></tr></table>
<p>We can remove these lines by using <a href="https://fsharp.github.io/fsharp-core-docs/reference/fsharp-collections-arraymodule.html#filter">Array.filter</a>. <code>Array.filter</code> applies a function to each element of the array and
returns only those elements where the function evaluates to <code>true</code>.
We'll create a function that evaluates to <code>true</code> if the player's name <em>does not</em> equal <code>"Player"</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">footballersNoHeaders</span> <span class="o">=</span> 
    <span class="id">footballers</span><span class="pn">.</span><span class="id">Rows</span>
    <span class="c">// 1. Rows where row.Player does not equal &quot;Player&quot;</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">row</span> <span class="k">-&gt;</span> <span class="id">row</span><span class="pn">.</span><span class="id">Player</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;Player&quot;</span><span class="pn">)</span> 
</code></pre>
<h3><a name="Removing-missing-values" class="anchor" href="#Removing-missing-values">Removing missing values</a></h3>
<p>In order to make some arithmetic operations with age and goals scored, we need to convert the data into integers or floats/decimals. But some players' age and goals scored is missing, and converting empty strings ("") into these types returns an error.<br />
We remove those lines by removing filtering to rows where age and goals are not "".</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">footballersClean</span> <span class="o">=</span>
    <span class="id">footballersNoHeaders</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">row</span> <span class="k">-&gt;</span> 
        <span class="id">row</span><span class="pn">.</span><span class="id">Age</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;&quot;</span> <span class="o">&amp;&amp;</span> 
        <span class="id">row</span><span class="pn">.</span><span class="id">``Performance - Gls``</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;&quot;</span><span class="pn">)</span>
</code></pre>
<p>Now we have the data we need, but
there are more than 2500 rows.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">footballersClean</span><span class="pn">.</span><span class="id">Length</span>
</code></pre>
<p>For our exercises we don't need so many observations,
so let's transform it to get the best players by position!</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">playersByPosition</span> <span class="o">=</span>
    <span class="id">footballersClean</span>
    <span class="c">// 1. filter out odd positions with few players</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 21)" onmouseover="showTip(event, 'fs11', 21)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="id">filter</span><span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span class="id">x</span><span class="pn">.</span><span class="id">Pos</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;GK,FW&quot;</span> <span class="o">&amp;&amp;</span> <span class="id">x</span><span class="pn">.</span><span class="id">Pos</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;FW,DF&quot;</span> <span class="o">&amp;&amp;</span> <span class="id">x</span><span class="pn">.</span><span class="id">Pos</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;DF,FW&quot;</span> <span class="pn">)</span>
    <span class="c">// 2. group players by position</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 23)" onmouseover="showTip(event, 'fs11', 23)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 24)" onmouseover="showTip(event, 'fs13', 24)" class="id">groupBy</span><span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span class="id">x</span><span class="pn">.</span><span class="id">Pos</span><span class="pn">)</span>
    <span class="c">// 3. sort positions.</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 25)" onmouseover="showTip(event, 'fs11', 25)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 26)" onmouseover="showTip(event, 'fs14', 26)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">position</span><span class="pn">,</span> <span class="id">_players</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="id">position</span><span class="pn">)</span>


<span class="k">let</span> <span class="id">bestPlayersByPosition</span> <span class="o">=</span>
    <span class="c">// This will get top 25 players for each position</span>
    <span class="c">// We create a new list by looping through each position group.</span>
    <span class="pn">[|</span> <span class="k">for</span> <span class="pn">(</span><span class="id">position</span><span class="pn">,</span> <span class="id">playersInPosition</span><span class="pn">)</span> <span class="k">in</span> <span class="id">playersByPosition</span> <span class="k">do</span>
        <span class="c">// 4. Sort best to worst (and convert to list at the end)</span>
        <span class="k">let</span> <span class="id">bestToWorst</span> <span class="o">=</span>
            <span class="id">playersInPosition</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 27)" onmouseover="showTip(event, 'fs11', 27)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 28)" onmouseover="showTip(event, 'fs15', 28)" class="id">sortByDescending</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">player</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="id">int</span> <span class="id">player</span><span class="pn">.</span><span class="id">``Performance - Gls``</span><span class="pn">,</span> <span class="id">player</span><span class="pn">.</span><span class="id">Matches</span><span class="pn">)</span>
        <span class="c">// 5. Truncate to top 25</span>
        <span class="k">let</span> <span class="id">top25</span> <span class="o">=</span> <span class="id">bestToWorst</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 30)" onmouseover="showTip(event, 'fs11', 30)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="id">truncate</span> <span class="n">25</span>         
        <span class="id">top25</span> <span class="pn">|]</span>
    <span class="c">// 6. concatenate to a single big array</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 32)" onmouseover="showTip(event, 'fs11', 32)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 33)" onmouseover="showTip(event, 'fs18', 33)" class="id">concat</span>
    
<span class="k">let</span> <span class="id">bestPlayers</span> <span class="o">=</span> 
    <span class="c">// sort best by position to overall top goal scorers,</span>
    <span class="c">// with ties broken by alphabetical sorting on </span>
    <span class="c">// the players name and squad.</span>
    <span class="id">bestPlayersByPosition</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 34)" onmouseover="showTip(event, 'fs11', 34)" class="id">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 35)" onmouseover="showTip(event, 'fs15', 35)" class="id">sortByDescending</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">player</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs16', 36)" onmouseover="showTip(event, 'fs16', 36)" class="id">int</span> <span class="id">player</span><span class="pn">.</span><span class="id">``Performance - Gls``</span><span class="pn">,</span>
        <span class="id">player</span><span class="pn">.</span><span class="id">Player</span><span class="pn">,</span>
        <span class="id">player</span><span class="pn">.</span><span class="id">Squad</span><span class="pn">)</span>
</code></pre>
<h2><a name="Create-a-Csv-and-store-the-Data-using-Csv-Provider" class="anchor" href="#Create-a-Csv-and-store-the-Data-using-Csv-Provider">Create a Csv and store the Data using Csv Provider.</a></h2>
<p>Now that the data is scraped from the webpage and stored to <code>FootballPlayersParsedTable</code> variable.
We need to save the data to a Csv file in order to use it in the Exercises.</p>
<p>First we need to construct a sample of the data that will be stored in the comma separated (csv) File.
By running <code>footballers.Headers</code> as done previously, we can easily observe that the table has fields that will not be used.<br />
The csv file doesn't need to contain all those fields, we only need:</p>
<ul>
<li><code>Player</code> (Players' Name)</li>
<li><code>Nation</code> (Players' Nationality)</li>
<li><code>Pos</code> (Players' Position)</li>
<li><code>Squad</code> (Players' Team)</li>
<li><code>Comp</code> (Players' League)</li>
<li><code>Age</code> (Players' Age)</li>
<li><code>Playing Time - MP</code> (Players' Matches Played)</li>
<li><code>Performance - Gls</code> (Players' Goals Scored)</li>
</ul>
<p>The csv type provider will infer csv field types from a sample that you give it.
It can infer the types from rows of the sample or from explicitly defined types
added in parentheses after column names.
We'll use explicit column type definitions in our sample.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs19', 37)" onmouseover="showTip(event, 'fs19', 37)" class="id">Literal</span><span class="pn">&gt;]</span>
<span class="k">let</span> <span class="id">FootballPlayersCsvSample</span> <span class="o">=</span> 
    <span class="s">&quot;Player (string),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;Nation (string),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;Position (string),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;Team (string),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;League (string),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;Age (int),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;MatchesPlayed (int),&quot;</span> <span class="o">+</span>
    <span class="s">&quot;GoalsScored (int)&quot;</span>

<span class="c">// the sample csv file that we&#39;ve created:</span>
<span class="id">FootballPlayersCsvSample</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"Player (string),Nation (string),Position (string),Team (string),League (string),Age (int),MatchesPlayed (int),GoalsScored (int)"</code></pre></td></tr></table>
<p>With the sample created, now we define the type from the sample.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="id">FootballPlayersCsv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="id">CsvProvider</span><span class="pn">&lt;</span><span class="id">FootballPlayersCsvSample</span><span class="pn">,</span><span class="id">ResolutionFolder</span> <span class="o">=</span> <span class="k">__SOURCE_DIRECTORY__</span><span class="pn">&gt;</span>
</code></pre>
<p>Now that we have the data and the Csv sample let's create a "list of CSV rows".</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">bestPlayersCsvRows</span> <span class="o">=</span> 
    <span class="pn">[</span> <span class="k">for</span> <span class="id">player</span> <span class="k">in</span> <span class="id">bestPlayers</span> <span class="k">do</span>
        <span class="id">FootballPlayersCsv</span><span class="pn">.</span><span class="id">Row</span><span class="pn">(</span> 
            <span class="id">player</span> <span class="o">=</span> <span class="id">player</span><span class="pn">.</span><span class="id">Player</span><span class="pn">,</span>
            <span class="id">nation</span> <span class="o">=</span> <span class="id">player</span><span class="pn">.</span><span class="id">Nation</span><span class="pn">,</span>
            <span class="id">position</span> <span class="o">=</span> <span class="id">player</span><span class="pn">.</span><span class="id">Pos</span><span class="pn">,</span>
            <span class="id">team</span> <span class="o">=</span> <span class="id">player</span><span class="pn">.</span><span class="id">Squad</span><span class="pn">,</span>
            <span class="id">league</span> <span class="o">=</span> <span class="id">player</span><span class="pn">.</span><span class="id">Comp</span><span class="pn">,</span>
            <span class="c">// For the age variable just take the year (first two digits).</span>
            <span class="c">// Sometimes 29 and 185 days old is given as &quot;29-185&quot; and we</span>
            <span class="c">// want to throw away the days part.</span>
            <span class="id">age</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 39)" onmouseover="showTip(event, 'fs16', 39)" class="id">int</span> <span class="id">player</span><span class="pn">.</span><span class="id">Age</span><span class="pn">.</span><span class="pn">[</span><span class="n">0..</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span> 
            <span class="id">matchesPlayed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 40)" onmouseover="showTip(event, 'fs16', 40)" class="id">int</span> <span class="id">player</span><span class="pn">.</span><span class="id">``Playing Time - MP``</span><span class="pn">,</span>
            <span class="id">goalsScored</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 41)" onmouseover="showTip(event, 'fs16', 41)" class="id">int</span> <span class="id">player</span><span class="pn">.</span><span class="id">``Performance - Gls``</span> <span class="pn">)</span> <span class="pn">]</span>
</code></pre>
<p>Note that we use <code>int</code> to convert <code>age</code>, <code>matchesPlayed</code> and <code>goalsScored</code> because those fields' values are <code>strings</code> in the html table and we want <code>integers</code> instead.</p>
<p>Let's look at the first 5 csv rows. We don't need to use <code>bestPlayersCsvRows.Rows</code> because the variable is already a list of csv rows.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">bestPlayersCsvRows</span><span class="pn">[</span><span class="n">0..</span><span class="n">4</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>No value returned by any evaluator</code></pre></td></tr></table>
<p>Rather than a "list of Csv rows", we want a "Csv file".  Here's how we do that.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">bestPlayersCsvFile</span> <span class="o">=</span> <span class="k">new</span> <span class="id">FootballPlayersCsv</span><span class="pn">(</span><span class="id">bestPlayersCsvRows</span><span class="pn">)</span>
</code></pre>
<p>Ok, let's write the file. Remember that <code>__SOURCE_DIRECTORY__</code> is a magic variable that points
to whatever folder this code file (aka the source code file) is contained in.
So this will write the data to a csv file named "FootballPlayers.csv" in the current directory.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">filePath</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 42)" onmouseover="showTip(event, 'fs21', 42)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 43)" onmouseover="showTip(event, 'fs22', 43)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="id">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 45)" onmouseover="showTip(event, 'fs24', 45)" class="id">Combine</span><span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span><span class="pn">,</span><span class="s">&quot;FootballPlayers.csv&quot;</span><span class="pn">)</span>
<span class="id">bestPlayersCsvFile</span><span class="pn">.</span><span class="id">Save</span><span class="pn">(</span><span class="id">filePath</span><span class="pn">)</span>
</code></pre>
<p>And if you want to read the data back in from the file to see that it works:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">backIn</span> <span class="o">=</span> <span class="id">FootballPlayersCsv</span><span class="pn">.</span><span class="id">Load</span><span class="pn">(</span><span class="id">filePath</span><span class="pn">)</span>

<span class="id">backIn</span><span class="pn">.</span><span class="id">Rows</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 46)" onmouseover="showTip(event, 'fs25', 46)" class="id">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 47)" onmouseover="showTip(event, 'fs26', 47)" class="id">truncate</span> <span class="n">5</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 48)" onmouseover="showTip(event, 'fs25', 48)" class="id">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 49)" onmouseover="showTip(event, 'fs27', 49)" class="id">iter</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 50)" onmouseover="showTip(event, 'fs28', 50)" class="id">printfn</span> <span class="s">&quot;%A&quot;</span><span class="pn">)</span>
</code></pre>
<table class="pre"><tr><td><pre><code></code></pre></td></tr></table>

            <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs3">type Big5EuropeanLeagues = HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs4">type HtmlProvider =<br /><em>&lt;summary&gt;Typed representation of an HTML file.&lt;/summary&gt;
           &lt;param name=&#39;Sample&#39;&gt;Location of an HTML sample file or a string containing a sample HTML document.&lt;/param&gt;
           &lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, &lt;c&gt;double.NaN&lt;/c&gt; or &lt;c&gt;&quot;&quot;&lt;/c&gt; for missing values. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;IncludeLayoutTables&#39;&gt;Includes tables that are potentially layout tables (with cellpadding=0 and cellspacing=0 attributes)&lt;/param&gt;
           &lt;param name=&#39;MissingValues&#39;&gt;The set of strings recogized as missing values. Defaults to &lt;c&gt;NaN,NA,N/A,#N/A,:,-,TBA,TBD&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;
           &lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless &lt;c&gt;charset&lt;/c&gt; is specified in the &lt;c&gt;Content-Type&lt;/c&gt; response header.&lt;/param&gt;
           &lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;
           &lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource 
              (e.g. &#39;MyCompany.MyAssembly, resource_name.html&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs5">val big5 : HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs6">HtmlProvider&lt;...&gt;.GetSample() : HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs7">property Runtime.BaseTypes.HtmlDocument.Html: HtmlDocument with get</div>
<div class="fsdocs-tip" id="fs8">override HtmlDocument.ToString : unit -&gt; string</div>
<div class="fsdocs-tip" id="fs9">property HtmlProvider&lt;...&gt;.Tables: HtmlProvider&lt;...&gt;.TablesContainer with get</div>
<div class="fsdocs-tip" id="fs10">property HtmlProvider&lt;...&gt;.TablesContainer.( Player Standard Stats 2021-2022 Big 5 European Leagues ): HtmlProvider&lt;...&gt;.PlayerStandardStats20212022Big5EuropeanLeagues with get</div>
<div class="fsdocs-tip" id="fs11">module Array

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with arrays.&lt;/summary&gt;<br />&lt;remarks&gt;
  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/arrays&quot;&gt;F# Language Guide - Arrays&lt;/a&gt;.
 &lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs12">val filter : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; &#39;T []<br /><em>&lt;summary&gt;Returns a new collection containing only the elements of the collection
 for which the given predicate returns &quot;true&quot;.&lt;/summary&gt;<br />&lt;param name=&quot;predicate&quot;&gt;The function to test the input elements.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;An array containing the elements for which the given predicate returns true.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs13">val groupBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; (&#39;Key * &#39;T []) [] (requires equality)<br /><em>&lt;summary&gt;Applies a key-generating function to each element of an array and yields an array of 
 unique keys. Each unique key contains an array of all elements that match 
 to this key.&lt;/summary&gt;<br />&lt;param name=&quot;projection&quot;&gt;A function that transforms an element of the array into a comparable key.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The result array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs14">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)<br /><em>&lt;summary&gt;Sorts the elements of an array, using the given projection for the keys and returning a new array. 
 Elements are compared using &lt;see cref=&quot;M:Microsoft.FSharp.Core.Operators.compare&quot; /&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;This is not a stable sort, i.e. the original order of equal elements is not necessarily preserved. 
 For a stable sort, consider using &lt;see cref=&quot;M:Microsoft.FSharp.Collections.SeqModule.Sort&quot; /&gt;.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform array elements into the type that is compared.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The sorted array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs15">val sortByDescending : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)<br /><em>&lt;summary&gt;Sorts the elements of an array, in descending order, using the given projection for the keys and returning a new array. 
 Elements are compared using &lt;see cref=&quot;M:Microsoft.FSharp.Core.Operators.compare&quot; /&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;This is not a stable sort, i.e. the original order of equal elements is not necessarily preserved. 
 For a stable sort, consider using &lt;see cref=&quot;M:Microsoft.FSharp.Collections.SeqModule.Sort&quot; /&gt;.&lt;/remarks&gt;<br />&lt;param name=&quot;projection&quot;&gt;The function to transform array elements into the type that is compared.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The sorted array.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs16">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to signed 32-bit integer. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Int32.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted int&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type int = int32<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int<br /><em>&lt;summary&gt;The type of 32-bit signed integer numbers, annotated with a unit of measure. The unit
 of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs17">val truncate : count:int -&gt; array:&#39;T [] -&gt; &#39;T []<br /><em>&lt;summary&gt;Returns at most N elements in a new array.&lt;/summary&gt;<br />&lt;param name=&quot;count&quot;&gt;The maximum number of items to return.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The result array.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs18">val concat : arrays:seq&lt;&#39;T []&gt; -&gt; &#39;T []<br /><em>&lt;summary&gt;Builds a new array that contains the elements of each of the given sequence of arrays.&lt;/summary&gt;<br />&lt;param name=&quot;arrays&quot;&gt;The input sequence of arrays.&lt;/param&gt;<br />&lt;returns&gt;The concatenation of the sequence of input arrays.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs19">Multiple items<br />type LiteralAttribute =
  inherit Attribute
  new : unit -&gt; LiteralAttribute<br /><em>&lt;summary&gt;Adding this attribute to a value causes it to be compiled as a CLI constant literal.&lt;/summary&gt;<br />&lt;category&gt;Attributes&lt;/category&gt;</em><br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="fsdocs-tip" id="fs20">type CsvProvider =<br /><em>&lt;summary&gt;Typed representation of a CSV file.&lt;/summary&gt;
           &lt;param name=&#39;Sample&#39;&gt;Location of a CSV sample file or a string containing a sample CSV document.&lt;/param&gt;
           &lt;param name=&#39;Separators&#39;&gt;Column delimiter(s). Defaults to &lt;c&gt;,&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;InferRows&#39;&gt;Number of rows to use for inference. Defaults to &lt;c&gt;1000&lt;/c&gt;. If this is zero, all rows are used.&lt;/param&gt;
           &lt;param name=&#39;Schema&#39;&gt;Optional column types, in a comma separated list. Valid types are &lt;c&gt;int&lt;/c&gt;, &lt;c&gt;int64&lt;/c&gt;, &lt;c&gt;bool&lt;/c&gt;, &lt;c&gt;float&lt;/c&gt;, &lt;c&gt;decimal&lt;/c&gt;, &lt;c&gt;date&lt;/c&gt;, &lt;c&gt;guid&lt;/c&gt;, &lt;c&gt;string&lt;/c&gt;, &lt;c&gt;int?&lt;/c&gt;, &lt;c&gt;int64?&lt;/c&gt;, &lt;c&gt;bool?&lt;/c&gt;, &lt;c&gt;float?&lt;/c&gt;, &lt;c&gt;decimal?&lt;/c&gt;, &lt;c&gt;date?&lt;/c&gt;, &lt;c&gt;guid?&lt;/c&gt;, &lt;c&gt;int option&lt;/c&gt;, &lt;c&gt;int64 option&lt;/c&gt;, &lt;c&gt;bool option&lt;/c&gt;, &lt;c&gt;float option&lt;/c&gt;, &lt;c&gt;decimal option&lt;/c&gt;, &lt;c&gt;date option&lt;/c&gt;, &lt;c&gt;guid option&lt;/c&gt; and &lt;c&gt;string option&lt;/c&gt;.
           You can also specify a unit and the name of the column like this: &lt;c&gt;Name (type&amp;lt;unit&amp;gt;)&lt;/c&gt;, or you can override only the name. If you don&#39;t want to specify all the columns, you can reference the columns by name like this: &lt;c&gt;ColumnName=type&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;HasHeaders&#39;&gt;Whether the sample contains the names of the columns as its first line.&lt;/param&gt;
           &lt;param name=&#39;IgnoreErrors&#39;&gt;Whether to ignore rows that have the wrong number of columns or which can&#39;t be parsed using the inferred or specified schema. Otherwise an exception is thrown when these rows are encountered.&lt;/param&gt;
           &lt;param name=&#39;SkipRows&#39;&gt;Skips the first n rows of the CSV file.&lt;/param&gt;
           &lt;param name=&#39;AssumeMissingValues&#39;&gt;When set to true, the type provider will assume all columns can have missing values, even if in the provided sample all values are present. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, &lt;c&gt;double.NaN&lt;/c&gt; or &lt;c&gt;&quot;&quot;&lt;/c&gt; for missing values. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;Quote&#39;&gt;The quotation mark (for surrounding values containing the delimiter). Defaults to &lt;c&gt;&quot;&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;MissingValues&#39;&gt;The set of strings recogized as missing values specified as a comma-separated string (e.g., &quot;NA,N/A&quot;). Defaults to &lt;c&gt;NaN,NA,N/A,#N/A,:,-,TBA,TBD&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;CacheRows&#39;&gt;Whether the rows should be caches so they can be iterated multiple times. Defaults to true. Disable for large datasets.&lt;/param&gt;
           &lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;
           &lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless &lt;c&gt;charset&lt;/c&gt; is specified in the &lt;c&gt;Content-Type&lt;/c&gt; response header.&lt;/param&gt;
           &lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;
           &lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource 
              (e.g. &#39;MyCompany.MyAssembly, resource_name.csv&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs21">namespace System</div>
<div class="fsdocs-tip" id="fs22">namespace System.IO</div>
<div class="fsdocs-tip" id="fs23">type Path =
  static member ChangeExtension : path: string * extension: string -&gt; string
  static member Combine : path1: string * path2: string -&gt; string + 3 overloads
  static member EndsInDirectorySeparator : path: ReadOnlySpan&lt;char&gt; -&gt; bool + 1 overload
  static member GetDirectoryName : path: ReadOnlySpan&lt;char&gt; -&gt; ReadOnlySpan&lt;char&gt; + 1 overload
  static member GetExtension : path: ReadOnlySpan&lt;char&gt; -&gt; ReadOnlySpan&lt;char&gt; + 1 overload
  static member GetFileName : path: ReadOnlySpan&lt;char&gt; -&gt; ReadOnlySpan&lt;char&gt; + 1 overload
  static member GetFileNameWithoutExtension : path: ReadOnlySpan&lt;char&gt; -&gt; ReadOnlySpan&lt;char&gt; + 1 overload
  static member GetFullPath : path: string -&gt; string + 1 overload
  static member GetInvalidFileNameChars : unit -&gt; char []
  static member GetInvalidPathChars : unit -&gt; char []
  ...<br /><em>&lt;summary&gt;Performs operations on &lt;see cref=&quot;T:System.String&quot; /&gt; instances that contain file or directory path information. These operations are performed in a cross-platform manner.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs24">System.IO.Path.Combine([&lt;System.ParamArray&gt;] paths: string []) : string<br />System.IO.Path.Combine(path1: string, path2: string) : string<br />System.IO.Path.Combine(path1: string, path2: string, path3: string) : string<br />System.IO.Path.Combine(path1: string, path2: string, path3: string, path4: string) : string</div>
<div class="fsdocs-tip" id="fs25">module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs26">val truncate : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Returns a sequence that when enumerated returns at most N elements.&lt;/summary&gt;<br />&lt;param name=&quot;count&quot;&gt;The maximum number of items to enumerate.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs27">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><em>&lt;summary&gt;Applies the given function to each element of the collection.&lt;/summary&gt;<br />&lt;param name=&quot;action&quot;&gt;A function to apply to each element of the sequence.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs28">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;Print to &lt;c&gt;stdout&lt;/c&gt; using the given format, and add a newline.&lt;/summary&gt;<br />&lt;param name=&quot;format&quot;&gt;The formatter.&lt;/param&gt;<br />&lt;returns&gt;The formatted result.&lt;/returns&gt;</em></div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = '/Teaching/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="/Teaching/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    </div>
</body>

</html>